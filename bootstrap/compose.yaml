---
services:
  tftp:
    build:
      context: ./tftp
    container_name: homelab-tftp
    restart: unless-stopped
    environment:
      - TALOS_VERSION=v1.2.2
      - TALOS_VMLINUZ_CHECKSUM=aa8488769fd50ed1746e84df5f9d9f300b9ba01398f6c4d718d29d6745614e41
      - TALOS_INITRAMFS_CHECKSUM=264207c7e73f886f5ca4f8403d4ca387ab098a9d8c51ca4982e5e6c0c71dfd54
      - GRUB_CHECKSUM=d3746a2bc6e50b324094be32a07b2d30a3eac56ffbf65c75e86eda5a6d0a774c
      - GRUBCONF_CHECKSUM=1dc6e685983cd02f39a2236415cf96b57c01dc5687c750faa65d4c6014e544a9
    ports:
      - 69:69/udp
    volumes:
      - ./config/tftp:/var/lib/tftpboot

  http:
    image: nginx:1.23-alpine
    container_name: homelab-http
    restart: unless-stopped
    ports:
      - 8888:80
    volumes:
      - ./config/http:/usr/share/nginx/html
