---
services:
  tftp:
    build:
      context: ./tftp
    container_name: homelab-tftp
    restart: unless-stopped
    environment:
      - TALOS_VERSION=v1.2.3
      - TALOS_VMLINUZ_CHECKSUM=b75c8a19f085db8506988c8c86ecf875a72d0dc7b5ff56c113d11790091cf9ff
      - TALOS_INITRAMFS_CHECKSUM=7eeac3cdea3b466c39a78521efaef89c469e3390f7209c1912ff4a3f44be4dde
      - GRUB_CHECKSUM=d3746a2bc6e50b324094be32a07b2d30a3eac56ffbf65c75e86eda5a6d0a774c
      - GRUBCONF_CHECKSUM=1dc6e685983cd02f39a2236415cf96b57c01dc5687c750faa65d4c6014e544a9
    ports:
      - 69:69/udp
    volumes:
      - ./config/tftp:/var/lib/tftpboot

  http:
    image: nginx:1.23-alpine
    container_name: homelab-http
    restart: unless-stopped
    ports:
      - 8888:80
    volumes:
      - ./config/http:/usr/share/nginx/html
